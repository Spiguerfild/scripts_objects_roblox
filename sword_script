wait(2)
local evento =  game:GetService("ReplicatedStorage").Eventos.coldown_minatos
local cd_minat = game:GetService("StarterGui").cd_minatos.Frame --tempo de espera entre hit
local RayCastHitbox = require(game.ReplicatedStorage.RaycastHitboxV4) 

local dano_espada = 50
local tool = script.Parent
local handle = tool.Handle
local controle_dano = true
local controle_hit = 0

local lamina = tool.lamina -- identifica parte superior da espada

local coldown_image = false -- imagem de segundos GUI(interface grafica de usuario)

local animation = tool:FindFirstChild("andarilho") 

local Hitbox = RayCastHitbox.new(script.Parent.lamina) 

--humanoid lendo a animação
local track1 = tool.Parent:FindFirstChild("Humanoid"):LoadAnimation(animation) or nil 

-- FUNÇÕES
 
local function equipou_item()
	

	
end


local function desequipou_item()
	

	
end


local function ativou_item()
	if controle_dano == true  then
		track1:Play()
	end

end	


local function desativou_item()
	
    track1:Stop()
end


-- programação a partir desta linha: 

Hitbox.Visualizer = false

tool.Equipped:Connect(equipou_item )

tool.Unequipped:Connect( desequipou_item)

tool.Activated:Connect( ativou_item)


tool.Deactivated:Connect( desativou_item)

script.Parent.Activated:Connect(function()
	
	Hitbox:HitStart(.8)
end)

Hitbox.OnHit:Connect(function(Part, Humanoid)
	if Humanoid and Humanoid ~= script.Parent.Parent.Humanoid then -- SE FOR HUMANOID E DIFERENTE DE QUEM SEGURA A ESPADA
		Humanoid:TakeDamage(dano_espada) -- DA DANO NO HUMANOID
		dano_espada = 0 
		controle_dano = false -- ele vai controlar junto com o coldown a linha 40 do codigo
		
			local plr = game:GetService("Players"):FindFirstChild(tool.Parent.Name)
			evento:FireClient(plr)
		wait(2) -- CLODOWN ANIMAÇÃO E DANO
		controle_dano = true
		dano_espada = 50
	end
	
	
end)
